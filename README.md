# pyCrystalPay
Get paid easily



 Привет! Эта библиотека создана для упращения работы с Crystal Pay.


  Установка : 
  
  pip install pycrystalpay
  
  
  Импорт и вход в кассу:
  
  

    from pycrystalpay import CrystalPay 

    crystal = CrystalPay('логин_кассы','секретный_ключ_1')




 
Функиции : 
--------------------------------------------------------
 
 
 Получение баланса кассы
--------------------------------------------------------
 Вернет словарь кошелек:баланс
 
 Пример : {'YANDEX': 0, 'QIWI': 0, 'VISAMASTER.RUR': 0}

    balance = crystal.get_cash_balance()
    print(balance)

 
 
 
 
 Генерация ссылки для оплаты
 --------------------------------------------------------
 Вернет объект Payment(о нём ниже)
 
    crystal.create_invoice(amount) 

  amount - сумма на оплату(целочисл.)</br>
  currency - 	Валюта суммы (конвертируется в рубли) (USD, BTC, ETH, LTC…) (необязательно)</br>
  liftetime - Время жизни счёта для оплаты, в минутах (необязательно)</br>
  redirect - Ссылка для перенаправления после оплаты (необязательно)</br>
  callback - Ссылка на скрипт, на который будет отправлен запрос, после успешного зачисления средств на счёт кассы (необязательно)</br>
  extra - Любые текстовые данные, пометка/комментарий. Будет передано в callback или при проверке статуса платежа (необязательно)</br>
  payment_system - Если нужно принудительно указать платежную систему (необязательно).</br>

 
  
 
 Получение статуса платежа
--------------------------------------------------------
  Проверка оплаты происходит через объект Payment.


    payment = crystal.create_invoice(amount) 
    payment.url #Ссылка на оплату
    payment.amount # Сумма к оплате
    payment.id #id оплаты
    
    if payment.if_paid():
        payment.paymethod # Метод, которым была произведена оплата. "btc", "qiwi"
        # Оплата была произведена
    else:
        # Счет не оплачен
        
Если известен ID платежа, то нам нужно сконструировать объект Payment

    payment = crystal.construct_payment_by_id(payment_id)

  
  
  
 
